<div class="prb-x12-segment">
  @for (element of this.parsedElements; track $index) {
    <span>{{ element }}</span>
    @if ($index == (getLength() - 1)) {
      <span class="prb-x12-segment-delimiter">~</span>
    } @else {
      <span class="prb-12-element-delimiter">{{ this.getElementDelimiter() }}</span>
    }
  }
  <div class="prb-info">
    <h5>PER Elements</h5>
    <prb-element-description
      [element]="'PER01'"
      [data]="getElement(1)"
      [description]="'contact function code'"
    />
    <prb-element-description
      [element]="'PER02'"
      [data]="getElement(2)"
      [description]="'name'"
    />
    <prb-element-description
      [element]="'PER03'"
      [data]="getElement(3)"
      [description]="getPerCommunicationQualifier(getElement(3))?.description || 'communication code qualifier'"
    />
    @if (getElement(3) == 'EM') {
      <prb-element-description
        [element]="'PER04'"
        [data]="getElement(4)"
        [description]="getPerCommunicationQualifier(getElement(3))?.description || 'communication number'"
      />
    } @else {
      <prb-element-description
        [element]="'PER04'"
        [data]="getElement(4) | phoneNumber"
        [description]="getPerCommunicationQualifier(getElement(3))?.description || 'communication number'"
      />
    }
    <prb-element-description
      [element]="'PER05'"
      [data]="getElement(5)"
      [description]="getPerCommunicationQualifier(getElement(5))?.description || 'communication code qualifier'"
    />
    @if (getElement(5) == 'EM') {
      <prb-element-description
        [element]="'PER06'"
        [data]="getElement(6)"
        [description]="getPerCommunicationQualifier(getElement(5))?.description || 'communication number'"
      />
    } @else {
      <prb-element-description
        [element]="'PER06'"
        [data]="getElement(6) | phoneNumber"
        [description]="getPerCommunicationQualifier(getElement(5))?.description || 'communication number'"
      />
    }
    <prb-element-description
      [element]="'PER07'"
      [data]="getElement(7)"
      [description]="getPerCommunicationQualifier(getElement(7))?.description || 'communication code qualifier'"
    />
    @if (getElement(7) == 'EM') {
      <prb-element-description
        [element]="'PER08'"
        [data]="getElement(8)"
        [description]="getPerCommunicationQualifier(getElement(7))?.description || 'communication number'"
      />
    } @else {
      <prb-element-description
        [element]="'PER08'"
        [data]="getElement(8) | phoneNumber"
        [description]="getPerCommunicationQualifier(getElement(7))?.description || 'communication number'"
      />
    }
  </div>
</div>
